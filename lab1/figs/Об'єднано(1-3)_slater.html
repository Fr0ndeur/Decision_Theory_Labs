<!doctype html>
<html lang="uk"><head>
  <meta charset="utf-8"/><title>Об'єднано(1-3): Границя Слейтера</title>
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  <style>body{margin:0;padding:0;font-family:system-ui,Segoe UI,Arial}</style>
</head><body>
  <div id="chart" style="width:960px;height:720px;margin:24px auto;"></div>
  <script>
    const jx  = [5,2,8.977940081762412,9.085893719707045,7.982957111396633,0,3,7,6.068485007202338,3,4,9,7.032559872388462,1,2.914063376771384,9,4,5.0462782826687285,4.942072320197426,8.964762716107632,6,4.985830480837738,6,3.093659814457202,2.0137150892962885,8,7,5,6.936825933067766,4,4,8.030127374766876,6,8.993563382061089,2.1050147388524736,5,5.056729513441501,5,7.118621378765102,6.018438973018621,4,2,5,1.0316232814558042,8.119498313971253,4,6,3,4.907409952127271,7,8,0.9508711909307409,2.914354203567302,4,0,4.920196979700787,7.97024362840022,7.0991451064560955,6,1];
    const jy  = [2,1,2.9739107302192553,0.0636210624365803,9.102198694976593,9,1,3,4.051218364591694,5,8,5,6.935911523104899,3,3.0557248939323367,8,9,5.005038576746257,5.044120823866988,3.1104151403443794,8,6.064431856697449,0,2.8867448390612793,3.102096238667971,6,1,8,6.954614295242366,0,5,1.045252144099154,1,-0.01553905776755494,3.089428704887473,0,1.0929556195212036,4,4.933361568974663,3.9121109764518,2,4,9,9.022219406637719,9.037022554564299,4,9,8,0.9840808498631778,6,3,9.11168206922843,3.072593030925198,3,4,5.966799614002262,1.046706632394446,4.906285045888781,6,1];
    const labs= ["A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12","A13","A14","A15","A16","A17","A18","A19","A20","A21","A22","A23","A24","A25","A26","A27","A28","A29","A30","A31","A32","A33","A34","A35","A36","A37","A38","A39","A40","A41","A42","A43","A44","A45","A46","A47","A48","A49","A50","A51","A52","A53","A54","A55","A56","A57","A58","A59","A60"];
    const mask= [false,false,true,true,true,true,false,false,false,false,false,true,false,false,false,true,true,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,true,true,true,false,true,false,false,false,false,true,false,false,false,false,false,false,false,false];
    const custom = [[5,2],[2,1],[9,3],[9,0],[8,9],[0,9],[3,1],[7,3],[6,4],[3,5],[4,8],[9,5],[7,7],[1,3],[3,3],[9,8],[4,9],[5,5],[5,5],[9,3],[6,8],[5,6],[6,0],[3,3],[2,3],[8,6],[7,1],[5,8],[7,7],[4,0],[4,5],[8,1],[6,1],[9,0],[2,3],[5,0],[5,1],[5,4],[7,5],[6,4],[4,2],[2,4],[5,9],[1,9],[8,9],[4,4],[6,9],[3,8],[5,1],[7,6],[8,3],[1,9],[3,3],[4,3],[0,4],[5,6],[8,1],[7,5],[6,6],[1,1]];
    const lineX = [0,1,4,5,6,8,9,9,9,9];
    const lineY = [9,9,9,9,9,9,8,5,3,0];
    const labelMode = "front";

    const allTrace = {
      x: jx, y: jy,
      mode: (labelMode === 'all') ? 'markers+text' : 'markers',
      text: labs,
      textposition: 'top left',
      textfont: { size: 10 },
      marker: { size: 7, opacity: 0.8, line: { width: 0.5 } },
      name: 'Усі альтернативи',
      hovertemplate: '<b>%{text}</b><br>Q1=%{customdata[0]}<br>Q2=%{customdata[1]}<extra></extra>',
      customdata: custom,
      cliponaxis: false
    };

    const frontTrace = {
      x: jx.filter((_,i)=>mask[i]),
      y: jy.filter((_,i)=>mask[i]),
      text: labs.filter((_,i)=>mask[i]),
      textposition: 'top center',
      textfont: { size: 12 },
      mode: (labelMode === 'none') ? 'markers' : 'markers+text',
      marker: { size: 11, symbol: 'diamond', opacity: 0.95, line: { width: 1 } },
      name: 'Фронт',
      hovertemplate: '<b>%{text}</b><br>Q1=%{customdata[0]}<br>Q2=%{customdata[1]}<extra></extra>',
      customdata: custom.filter((_,i)=>mask[i]),
      cliponaxis: false
    };

    const lineTrace = (lineX.length > 0) ? {
      x: lineX, y: lineY,
      mode: 'lines',
      line: { width: 2, shape: "linear" },
      name: 'Лінія фронту'
    } : null;

    const traces = lineTrace ? [allTrace, frontTrace, lineTrace] : [allTrace, frontTrace];

    Plotly.newPlot('chart', traces, {
      title: "Об'єднано(1-3): Границя Слейтера",
      hovermode: 'closest',
      margin: {l:60, r:20, t:60, b:60},
      xaxis: { title: 'Q1 (maximize)', rangemode: 'tozero', dtick: 1, gridcolor: 'rgba(0,0,0,0.1)' },
      yaxis: { title: 'Q2 (maximize)', rangemode: 'tozero', dtick: 1, gridcolor: 'rgba(0,0,0,0.1)' },
      legend: { orientation: 'h', x: 0.5, xanchor: 'center' }
    }, {displaylogo:false});
  </script>
</body></html>